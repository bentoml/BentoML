# NOTE: Partially generated by `manager create-manifest`
# * Make sure to edit and changes as fitted.
%YAML 1.2
---
common: &common
  templates_dir: ""
  suffixes: ""
  base_image: ""
  header: |
    # syntax = docker/dockerfile:1.3
    #
    # ===========================================
    #
    # THIS IS A GENERATED DOCKERFILE. DO NOT EDIT
    #
    # ===========================================
  envars:
    - LANG=C.UTF-8
    - LC_ALL=C.UTF-8
    - PYTHONDONTWRITEBYTECODE=1
  architectures:
    - amd64
    - arm64v8
    - ppc64le
    - s390x
  release_types:
    - base
    - runtime
    - cudnn
    - devel
  dependencies:
    cuda:
      amd64: !include include.d/cuda/v11.5.1.amd64.yaml
      ppc64le: !include include.d/cuda/v11.5.1.ppc64le.yaml
      arm64v8: !include include.d/cuda/v11.5.1.arm64v8.yaml
    cuda_url_suffixes: ""

docker.io:
  entrypoint: dockerio
  password: DOCKER_PASSWORD
  password_type: envars
  provider: dockerhub
  url: DOCKER_URL
  user: DOCKER_USER
ecr:
  entrypoint: aws
  password: AWS_PASSWORD
  password_type: stdin
  provider: ecr
  url: AWS_URL
  user: AWS_USER


w_cuda_v11.5.1:
  debian11: &debian
    <<: *common
    templates_dir: debian
    base_image: debian:11-slim
    suffixes: "debian11"
    dependencies:
      cuda:
        amd64: !include include.d/cuda/v11.5.1.amd64.yaml
        arm64v8: !include include.d/cuda/v11.5.1.arm64v8.yaml
      cuda_url_suffixes: "ubuntu2004"
    release_types:
      - base
      - runtime
      - cudnn
      - devel

  debian10:
    <<: *debian
    base_image: debian:10-slim
    suffixes: "debian10"

  ubi8: &ubi
    <<: *common
    templates_dir: rhel
    base_image: registry.access.redhat.com/ubi8/ubi:latest
    suffixes: "ubi8"
    dependencies:
      cuda:
        amd64: !include include.d/cuda/v11.5.1.amd64.yaml
        arm64v8: !include include.d/cuda/v11.5.1.arm64v8.yaml
        ppc64le: !include include.d/cuda/v11.5.1.ppc64le.yaml
      cuda_url_suffixes: "rhel8"

  ubi7:
    <<: *ubi
    base_image: registry.access.redhat.com/ubi7/ubi:latest
    suffixes: "ubi7"
    architectures:
      - amd64
      - s390x
      - ppc64le


  amazonlinux2:
    <<: *common
    templates_dir: ami2
    base_image: amazonlinux:2
    suffixes: "amazonlinux2"
    architectures:
      - amd64
      - arm64v8
    dependencies: null
    release_types:
      - base
      - runtime
      - devel

  alpine3.14:
    <<: *common
    templates_dir: alpine
    base_image: alpine:3.14
    suffixes: "alpine3.14"
    dependencies: null
    architectures:
      - amd64
      - arm64v8
      - s390x
    release_types:
      - base
      - runtime
      - devel
