header: |
  # syntax=docker/dockerfile:1.2
  #
  # ===========================================
  #
  # THIS IS A GENERATED DOCKERFILE DO NOT EDIT.

releases:
  model_server:
    devel:
      spec: &devel_spec
        - "{_PREFIX}{ubuntu20.04}"
        - "{_PREFIX}{ubuntu18.04}"
        - "{_PREFIX}{centos8}"
        - "{_PREFIX}{centos7}"
    runtime:
      spec: &runtime_spec
        - *devel_spec
        - "{_PREFIX}{amazonlinux2}"
        - "{_PREFIX}{alpine-3.14}"
    slim: &slim_spec
      spec:
        - "{_PREFIX}{debian-10}"
  yatai_service:
    devel:
      spec:
        - *devel_spec
    runtime:
      spec:
        - *runtime_spec
    slim:
      spec:
        - *slim_spec

dist:
  ubuntu20.04:
    - base_image: ubuntu:focal
    - add_to_name: ""
      args:
      partials:
    - add_to_name: "gpu"
      args:
      partials:
      cuda:
        - version: 11.3
  centos8:
    - base_image: ubuntu:focal
    - add_to_name: ""
      args:
      partials:
    - add_to_name: "gpu"
      args:
      partials:
      cuda:
        - override_namespace: "rhel8"
        - version: 11.3