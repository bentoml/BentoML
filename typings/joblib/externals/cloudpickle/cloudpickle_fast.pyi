from .cloudpickle import PYPY
from .compat import Pickler, pickle

if pickle.HIGHEST_PROTOCOL >= 5 and notPYPY:
    def dump(obj, file, protocol=..., buffer_callback=...): ...
    def dumps(obj, protocol=..., buffer_callback=...): ...

else:
    def dump(obj, file, protocol=...): ...
    def dumps(obj, protocol=...): ...

class CloudPickler(Pickler):
    _dispatch_table = ...
    dispatch_table = ...
    def dump(self, obj): ...
    if pickle.HIGHEST_PROTOCOL >= 5:
        dispatch = ...
        def __init__(self, file, protocol=..., buffer_callback=...) -> None: ...
        def reducer_override(self, obj): ...
    else:
        dispatch = ...
        def __init__(self, file, protocol=...) -> None: ...
        def save_global(self, obj, name=..., pack=...): ...
        def save_function(self, obj, name=...): ...
