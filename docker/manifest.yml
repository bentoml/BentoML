header: |
  # syntax=docker/dockerfile:1.2
  #
  # ===========================================
  #
  # THIS IS A GENERATED DOCKERFILE DO NOT EDIT.

releases:
  devel:
    spec:
      - "{ubuntu-devel}"
      - "{centos-devel}"
  versioned:
    spec:
      - "{ubuntu}"
      - "{centos}"
      - "{slim}"
      - "{amazonlinux2}"
      - "{ubuntu-ys}"
      - "{centos-ys}"

dist:
  ubuntu:
    - add_to_name: "ubuntu20.04"
      args:
        - UBUNTU_VERSION=20.04
      partials:
        - ubuntu/base
        - env
        - conda
        - shell
        - bentoml
    - add_to_name: "ubuntu18.04"
      args:
        - UBUNTU_VERSION=18.04
      partials:
        - ubuntu/base
        - env
        - conda
        - shell
        - bentoml
    - add_to_name: "gpu"
      overwrite_dockerfile_name: "gpu"
      args:
        - UBUNTU_VERSION=18.04
        - CUDA_VERSION=11.3.1
        - CUDNN_VERSION=8.2.0.53
      partials:
        - ubuntu/base
        - env
        - ubuntu/nvidia
        - conda
        - shell
        - bentoml